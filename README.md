# ChattingPost
类似贴吧+QQ群。是一个面向话题的交流服务。目标是将话题的讨论变得更方便、有趣，逻辑清晰。

- 用树形结构表现回贴内容，不强调时间顺序。
- 被其他人关注的回复(包括其父节点)都会增加关注值，因而变得更显眼。
- 在一个平台内可以同时进行多个话题的讨论，相互之间不会存在干扰。
- 一个人可以新建一个话题，或者选择一个父节点进行回复。
- 除了帖子信息外，还有临时的系统公告。
- 可以查看在线人员。

### 计划中的功能：
- 允许用户开群，限制访问人员。
- 也可以使用赞和踩，影响这个回复的关注值。
- 添加话题管理员，可以自由删除回答，删除回答分支，修改父子节点关系。
- 允许赞和踩（影响回贴内容的热度）
- 投票系统。

## 类和成员
使用python写服务器端，C#WPF写客户端

### 用户 User：
- 昵称 nickname
- 密码 password
- 颜色 color
- //编号 id
- //最后一次登录时间 lastLoginTime

### 信息 Message：
- 发送用户名称 senderName
- 颜色 color （与发送用户的颜色相同）
- 内容 content
- 父节点编号 father
- 子节点编号数组 sons
- 编号 id
- 关注度 hot
- //发送用户 sender
- //相对于父节点的角度位置 place （先用一个数字大概表示）
- //发送用户编号 senderId
- //信息发送时间 time 

## 用户向服务器
- 发送用户信息。-- 服务器接受用户信息，将用户加入在线用户队列。
- 要求获得指定ID信息。get
- 发送跟帖。send
- 要求获得最新一级信息。获得ID=0的信息

## 服务器向用户
- 发送各级信息。 -- 客户端接收信息，更新和维护自己的树结构。

## 数据结构
messages[0] 是零级节点，是检索森林的开始点。
由于需要异步网络同步，所有messages由一个用具类MessagesKeeper托管。